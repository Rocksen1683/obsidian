## Problem 

![[Pasted image 20240213162846.png]]
## Approach 

As we want to calculate diameter and height from the bottom-up, we have to do [[Post-Order Traversal]] and calculate the diameter. 

The formulas used are: 
$$height = 1 + max(rightHeight, leftHeight)$$
The *diameter* calculation is to get the global diameter 
$$diameter = max(diameter, 2 + rightHeight + leftHeight)$$

## Solution 

```python 
def diameterOfBinaryTree(self, root: Optional[TreeNode]) -> int:
	#as we need to get height from bottom up, we need post-order  traversal of the tree

	def maxHeight(node):
		#base case
		if node is None:
			return -1

		leftHeight = maxHeight(node.left)
		rightHeight = maxHeight(node.right)

		#calculating new diameter
		ans[0] = max(ans[0], 2 + leftHeight + rightHeight)
		#calculating new maximum height 
		return 1 + max(leftHeight, rightHeight)

	#initializing diameter to 0 
	ans = [0]
	maxHeight(root)
	return ans[0]
```
